(this.webpackJsonpskinx=this.webpackJsonpskinx||[]).push([[0],{124:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),o=n(73),s=n.n(o),c=(n(92),n(93),n(6)),l=n(74),r=n(75),d=n(84),h=n(83),u=n(38),j=n.n(u),b=n(135),g=n(148),m=n(136),p=n(137),f=n(37),x=n(138),w=n(139),v=n(149),O=n(145),S=n(140),k=n(150),y=n(147),L=n(151),_=n(141),A=n(142),C=n(76),z=n.n(C),B=n(3);var F=function(e){var t=["0","1","2","3","4","5","6","7","8","9"].map((function(t){return{original:"".concat(window.location.origin,"/images/").concat(e.disease,"/").concat(t,".jpeg"),thumbnail:"".concat(window.location.origin,"/images/").concat(e.disease,"/").concat(t,".jpeg")}}));return Object(B.jsx)("div",{children:Object(B.jsx)(z.a,{showPlayButton:!1,items:t})})},D=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={files:null,disease_type:null,username:null,password:null,disease:null,token:null,age:0,arr1:["cancer","melanoma"],arr2:["Assess Type of Cancer","Assess Malignancy"],show:!1,loginLoad:!1,apiLoading1:!1,apiLoading2:!1,name:"",invalid:!1,img_url:null,width:["90vw","80vw","50vw","40vw"]},e.loginLoadHandler=function(t){e.setState({loginLoad:t.target.value})},e.apiLoadingHandler1=function(t){e.setState({apiLoading1:t.target.value})},e.apiLoadingHandler2=function(t){e.setState({apiLoading2:t.target.value})},e.usernameHandler=function(t){e.setState({username:t.target.value})},e.passwordHandler=function(t){e.setState({password:t.target.value})},e.handleFile=function(t){console.log(t.target.files[0]),e.setState({files:t.target.files[0],name:t.target.files[0].name,img_url:URL.createObjectURL(t.target.files[0]),invalid:!1})},e.handleLogin=function(){e.setState({loginLoad:!0});var t=new FormData;t.append("grant_type","password"),t.append("username",e.state.username),t.append("password",e.state.username),j.a.post("http://3.128.170.254:5000/token",t).then((function(t){e.setState({token:t.data.access_token,loginLoad:!1}),console.log(t.data.access_token),localStorage.setItem("token",JSON.stringify(t.data.access_token)),window.location.reload()})).catch((function(t){e.setState({loginLoad:!1}),console.log(t)}))},e.handleCancerUpload=function(){e.setState({apiLoading1:!0});var t=new FormData;t.append("file",e.state.files),j.a.post("http://3.128.170.254:5000/skinx?disease=cancer",t,{headers:{Authorization:"Bearer ".concat(e.state.token)}}).then((function(t){e.setState({disease:t.data.disease,apiLoading1:!1}),"Please upload a valid image"===t.data&&e.setState({invalid:!0,apiLoading1:!1}),console.log(t)})).catch((function(t){console.log(t),e.setState({apiLoading1:!1})}))},e.handleMelanomaUpload=function(){e.setState({apiLoading2:!0});var t=new FormData;t.append("file",e.state.files),j()({method:"post",url:"http://3.128.170.254:5000/skinx?disease=melanoma",data:t,headers:{Authorization:"Bearer ".concat(e.state.token)}}).then((function(t){e.setState({disease:t.data.disease,apiLoading2:!1}),"Please upload a valid image"===t.data&&e.setState({invalid:!0,apiLoading2:!1}),console.log(t)})).catch((function(t){console.log(t),e.setState({apiLoading2:!1})}))},e.handleUpload=function(){e.setState({apiLoading:!0});var t=new FormData;t.append("file",e.state.files),j()({method:"post",url:"http://3.128.170.254:5000/skinx?disease=".concat(e.state.disease_type),data:t,headers:{Authorization:"Bearer ".concat(e.state.token)}}).then((function(t){e.setState({disease:t.data.disease,apiLoading:!1}),"Please upload a valid image"===t.data&&e.setState({invalid:!0,apiLoading:!1}),console.log(t)})).catch((function(t){console.log(t),e.setState({apiLoading:!1})}))},e.handleDisease=function(t){e.setState({disease_type:t.target.value}),console.log(e.state.disease_type)},e.cleanUp=function(t){e.setState({disease:null})},e.handleClick=function(t){!0===e.state.show?e.setState({show:!1}):e.setState({show:!0})},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){localStorage.getItem("token")?this.setState({token:localStorage.getItem("token")}):this.setState({token:null})}},{key:"setWidth",value:function(){this.setState({width:["90vw","80vw","50vw","40vw"]})}},{key:"render",value:function(){var e=this;return Object(B.jsx)("div",{children:this.state.token?Object(B.jsx)(b.a,{align:"center",justify:"center",p:["0"],children:Object(B.jsxs)(g.a,{spacing:4,children:[Object(B.jsx)(m.a,{align:"center",className:"font",fontSize:"3xl",children:"Skin Disease Detection App"}),this.state.disease?Object(B.jsx)(p.a,{w:["100vw","100vw","80vw","70vw"],style:{scrollbarWidth:"none",marginBottom:"2rem"},rounded:"md",bg:"white",boxShadow:"lg",p:3,width:"100%",children:Object(B.jsxs)(L.a,{minChildWidth:"450px",spacing:"10px",m:"6",children:[Object(B.jsx)(S.a,{children:Object(B.jsxs)(g.a,{w:["80vw","80vw","40vw","35vw"],spacing:4,children:[Object(B.jsxs)(_.a,{mb:"2",fontSize:"2xl",children:["Result: ",Object(B.jsx)(_.a,{fontSize:"2xl",textTransform:"uppercase",children:this.state.disease})]}),this.state.img_url?Object(B.jsxs)("div",{children:[Object(B.jsx)(_.a,{mb:"2",fontSize:"2xl",children:"Your Image: "}),Object(B.jsx)(S.a,{children:Object(B.jsx)(k.a,{transition:"all 0.3s cubic-bezier(.39,.58,.57,1);",_active:{outline:"none",transform:"scale(0.98)",boxShadow:"none"},_hover:{boxShadow:"1px 0px 1rem grey",transform:"scale(1.01)"},rounded:"md",width:"70%",mx:"0",src:this.state.img_url,alt:"selected image"})})]}):null]})}),Object(B.jsx)(S.a,{children:Object(B.jsxs)(g.a,{w:["80vw","80vw","30vw","25vw"],spacing:4,children:[Object(B.jsx)(_.a,{fontSize:"2xl",children:"Similar Images"}),Object(B.jsx)(F,{disease:this.state.disease}),Object(B.jsx)(O.a,{colorScheme:"blue",onClick:function(){return e.cleanUp()},children:"Assess Another"})]})})]})}):Object(B.jsxs)(p.a,{w:["90vw","80vw","80vw","40vw"],style:{scrollbarWidth:"none",marginBottom:"2rem"},rounded:"md",bg:"white",boxShadow:"lg",p:6,width:"100%",children:[Object(B.jsxs)(g.a,{spacing:2,children:[Object(B.jsxs)(f.a,{id:"email",children:[Object(B.jsx)(x.a,{children:"Select the image file (.jpg, .png)"}),Object(B.jsxs)(w.a,{my:"4",children:[Object(B.jsx)(v.a,{display:"none",p:"1.5",accept:"image/*",type:"file",onChange:this.handleFile,ref:function(t){return e.fileInput=t}}),Object(B.jsx)(O.a,{width:"100%",onClick:function(){return e.fileInput.click()},children:this.state.files?Object(B.jsx)("p",{children:"Select Another"}):Object(B.jsx)("p",{children:"Browse "})})]}),Object(B.jsx)(w.a,{my:"4"}),this.state.img_url?Object(B.jsx)(S.a,{children:Object(B.jsx)(k.a,{onClick:function(){return e.fileInput.click()},transition:"all 0.2s cubic-bezier(.39,.58,.57,1);",_active:{outline:"none",transform:"scale(0.94)",boxShadow:"none"},_hover:{boxShadow:"1px 0px 22px grey",transform:"scale(1.01)"},rounded:"md",width:"70%",mx:"0",src:this.state.img_url,alt:"selected image"})}):null]}),Object(B.jsx)(g.a,{spacing:4,children:Object(B.jsx)(O.a,{mt:"1rem",disabled:!this.state.files||this.state.apiLoading1,outline:"none",boxShadow:"none",border:"none",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",_focus:{boxShadow:"none",border:"none",outline:"none"},_active:{outline:"none",transform:"scale(0.94)",boxShadow:"none"},isLoading:this.state.apiLoading1,colorScheme:"blue",onClick:function(t){return e.handleCancerUpload(t)},children:"Run Assessment"})})]}),this.state.invalid?Object(B.jsxs)(y.a,{mt:"4",variant:"left-accent",status:"error",children:[Object(B.jsx)(y.b,{}),"The image is invalid"]}):null]})]})}):Object(B.jsx)(b.a,{id:"signin",align:"center",justify:"center",children:Object(B.jsxs)(g.a,{spacing:8,px:6,children:[Object(B.jsx)(g.a,{align:"center",children:Object(B.jsx)(m.a,{className:"font",fontSize:"4xl",children:"Welcome Back!"})}),Object(B.jsx)(p.a,{w:["90vw","80vw","50vw","40vw"],rounded:"lg",bg:"white",boxShadow:"lg",p:8,children:Object(B.jsxs)(g.a,{spacing:4,children:[Object(B.jsxs)(f.a,{id:"email",children:[Object(B.jsx)(x.a,{children:"Username"}),Object(B.jsx)(w.a,{my:"4",children:Object(B.jsx)(v.a,{colorScheme:"blue",type:"text",name:"username",value:this.state.username,onChange:this.usernameHandler,placeholder:"username"})})]}),Object(B.jsxs)(f.a,{id:"password",children:[Object(B.jsx)(x.a,{children:"Password"}),Object(B.jsxs)(w.a,{size:"md",my:"4",children:[Object(B.jsx)(v.a,{name:"password",value:this.state.password,onChange:this.passwordHandler,pr:"4.5rem",type:this.state.show?"text":"password",placeholder:"Enter password"}),Object(B.jsx)(A.a,{width:"4.5rem",children:Object(B.jsx)(O.a,{outline:"none",boxShadow:"none",border:"none",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",_focus:{boxShadow:"none",border:"none",outline:"none"},_active:{outline:"none",transform:"scale(0.94)",boxShadow:"none"},colorScheme:"blue",h:"1.75rem",size:"sm",onClick:function(t){return e.handleClick(t)},children:this.state.show?"Hide":"Show"})})]})]}),Object(B.jsx)(g.a,{spacing:10,children:Object(B.jsx)(O.a,{outline:"none",boxShadow:"none",border:"none",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",_focus:{boxShadow:"none",border:"none",outline:"none"},_active:{outline:"none",transform:"scale(0.94)",boxShadow:"none"},isLoading:this.state.loginLoad,colorScheme:"blue",onClick:function(t){return e.handleLogin(t)},children:"Sign in"})})]})})]})})})}}]),n}(i.a.Component),I=n(143),T=n(79),U=n(0);n(71);function H(){localStorage.removeItem("token"),window.location.reload()}function P(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){localStorage.getItem("token")?i(!0):i(!1)}),[]),Object(B.jsx)("span",{id:"main",children:Object(B.jsx)(S.a,{children:Object(B.jsxs)(g.b,{minW:"100vw",children:[Object(B.jsx)(I.a,{pt:"4",maxW:"container.lg",children:Object(B.jsxs)(m.a,{alignContent:"start",d:"flex",fontWeight:"600",size:"xl",className:"title-font",children:["SkinX",!1===n?null:Object(B.jsx)(O.a,{margin:"0 0 0 auto",onClick:H,boxShadow:"none",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",_focus:{boxShadow:"none"},_active:{transform:"scale(0.94)",boxShadow:"none"},_hover:{bg:"transparent"},colorScheme:"blue",variant:"outline",rightIcon:Object(B.jsx)(U.b.Provider,{value:{size:"24px"},children:Object(B.jsx)(T.a,{})}),children:"Logout"})]})}),Object(B.jsx)(p.a,{w:"100vw",mx:"4",children:Object(B.jsx)(D,{})})]})})})}var W=function(){return Object(B.jsx)("div",{className:"App",children:Object(B.jsx)(P,{})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,152)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),o(e),s(e)}))},E=n(146),N=n(21),R=function(){return Object(B.jsx)(N.a,{styles:"\n      /* latin */\n      @font-face {\n        font-family: 'Avenir Medium';\n        font-style: normal;\n        font-weight: 700;\n        font-display: swap;\n        src: url('./components/styles/fonts/AvenirLTStd-Medium.otf') format('otf'), url('./components/styles/fonts/AvenirLTStd-Medium.otf') format('otf');\n        \n      }\n      /* latin */\n      @font-face {\n        font-family: 'Avenir Book';\n        font-style: normal;\n        font-weight: 400;\n        font-display: swap;\n        src: url('./components/styles/fonts/AvenirLTStd-Book.otf') format('otf'), url('./components/styles/fonts/AvenirLTStd-Book.otf') format('otf');\n        \n      }\n      "})},J=n(144),X=Object(J.a)({fonts:{heading:"Avenir Medium",body:"Avenir Book"},colors:{skin:{950:"#583101",900:"#603808",800:"#6F4518",700:"#8B5E34",600:"#A47148",500:"#BC8A5F",400:"#D4A276",300:"#E7BC91",200:"#F3D5B5",100:"#FFEDD8"}}});s.a.render(Object(B.jsxs)(E.a,{theme:X,children:[Object(B.jsx)(R,{}),Object(B.jsx)(W,{})]}),document.getElementById("root")),M()},71:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){}},[[124,1,2]]]);
//# sourceMappingURL=main.41f77114.chunk.js.map