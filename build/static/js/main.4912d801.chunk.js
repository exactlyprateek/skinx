(this.webpackJsonpskinx=this.webpackJsonpskinx||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),s=n(83),c=n.n(s),o=(n(104),n(105),n(4)),l=n(84),r=n(85),d=n(96),j=n(95),u=n(46),h=n.n(u),b=n(151),m=n(166),f=n(152),x=n(153),g=n(45),O=n(154),p=n(155),v=n(167),w=n(162),S=n(156),k=n(164),L=n(168),y=n(157),_=n(158),C=n(86),A=n.n(C),z=n(3);var I=function(e){var t=["0","1","2","3","4","5","6","7","8","9"].map((function(t){return{original:"".concat(window.location.origin,"/images/").concat(e.disease,"/").concat(t,".jpeg"),thumbnail:"".concat(window.location.origin,"/images/").concat(e.disease,"/").concat(t,".jpeg")}}));return Object(z.jsx)("div",{children:Object(z.jsx)(A.a,{showPlayButton:!1,items:t})})},B=n(165);var T=function(e){return Object(z.jsx)(B.a,{onClick:e.func,transition:"all 0.2s cubic-bezier(.39,.58,.57,1);",_active:{outline:"none",transform:"scale(0.94)",boxShadow:"none"},_hover:{boxShadow:"var(--chakra-shadows-xl)",transform:"scale(1.01)"},rounded:"md",h:"25vh",m:"0.5rem",src:e.url,alt:"selected image"})},F=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={files:null,disease_type:null,username:null,password:null,disease:null,token:null,age:0,arr1:["cancer","melanoma"],arr2:["Assess Type of Cancer","Assess Malignancy"],show:!1,loginLoad:!1,apiLoading1:!1,apiLoading2:!1,name:"",invalid:!1,img_url:null,width:["90vw","80vw","50vw","40vw"]},e.loginLoadHandler=function(t){e.setState({loginLoad:t.target.value})},e.apiLoadingHandler1=function(t){e.setState({apiLoading1:t.target.value})},e.apiLoadingHandler2=function(t){e.setState({apiLoading2:t.target.value})},e.usernameHandler=function(t){e.setState({username:t.target.value})},e.passwordHandler=function(t){e.setState({password:t.target.value})},e.handleFile=function(t){t.target.files[0]&&e.setState({files:t.target.files[0],name:t.target.files[0].name,img_url:URL.createObjectURL(t.target.files[0]),invalid:!1})},e.handleLogin=function(){e.setState({loginLoad:!0});var t=new FormData;t.append("grant_type","password"),t.append("username",e.state.username),t.append("password",e.state.username),h.a.post("http://3.128.170.254:5000/token",t).then((function(t){e.setState({token:t.data.access_token,loginLoad:!1}),console.log(t.data.access_token),localStorage.setItem("token",JSON.stringify(t.data.access_token)),window.location.reload()})).catch((function(t){e.setState({loginLoad:!1}),console.log(t)}))},e.handleCancerUpload=function(){e.setState({apiLoading1:!0});var t=new FormData;t.append("file",e.state.files),h.a.post("http://3.128.170.254:5000/skinx?disease=cancer",t,{headers:{Authorization:"Bearer ".concat(e.state.token)}}).then((function(t){e.setState({disease:t.data.disease.replaceAll(" ",""),apiLoading1:!1}),"Please upload a valid image"===t.data&&e.setState({invalid:!0,apiLoading1:!1}),console.log(t)})).catch((function(t){console.log(t),e.setState({apiLoading1:!1})}))},e.handleMelanomaUpload=function(){e.setState({apiLoading2:!0});var t=new FormData;t.append("file",e.state.files),h()({method:"post",url:"http://3.128.170.254:5000/skinx?disease=melanoma",data:t,headers:{Authorization:"Bearer ".concat(e.state.token)}}).then((function(t){e.setState({disease:t.data.disease,apiLoading2:!1}),"Please upload a valid image"===t.data&&e.setState({invalid:!0,apiLoading2:!1}),console.log(t)})).catch((function(t){console.log(t),e.setState({apiLoading2:!1})}))},e.handleUpload=function(){e.setState({apiLoading:!0});var t=new FormData;t.append("file",e.state.files),h()({method:"post",url:"http://3.128.170.254:5000/skinx?disease=".concat(e.state.disease_type),data:t,headers:{Authorization:"Bearer ".concat(e.state.token)}}).then((function(t){var n=t.data.disease.replaceAll(" ","");e.setState({disease:n,apiLoading:!1}),console.log(t.data.disease.replaceAll(" ","")),"Please upload a valid image"===t.data&&e.setState({invalid:!0,apiLoading:!1}),console.log(n)})).catch((function(t){console.log(t),e.setState({apiLoading:!1})}))},e.handleDisease=function(t){e.setState({disease_type:t.target.value}),console.log(e.state.disease_type)},e.cleanUp=function(t){e.setState({disease:null})},e.handleClick=function(t){!0===e.state.show?e.setState({show:!1}):e.setState({show:!0})},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){localStorage.getItem("token")?this.setState({token:localStorage.getItem("token")}):this.setState({token:null})}},{key:"setWidth",value:function(){this.setState({width:["90vw","80vw","50vw","40vw"]})}},{key:"render",value:function(){var e=this;return Object(z.jsx)("div",{children:this.state.token?Object(z.jsx)(b.a,{align:"center",justify:"center",p:["0"],children:Object(z.jsxs)(m.b,{spacing:4,children:[Object(z.jsx)(f.a,{align:"center",className:"font",fontSize:"3xl",children:"Skin Disease Detection App"}),this.state.disease?Object(z.jsx)(x.a,{w:["100vw","100vw","80vw","70vw"],style:{scrollbarWidth:"none",marginBottom:"2rem"},rounded:"md",bg:"white",boxShadow:"lg",p:3,width:"100%",children:Object(z.jsxs)(L.a,{minChildWidth:"450px",spacing:"10px",m:"6",children:[Object(z.jsx)(S.a,{children:Object(z.jsxs)(m.b,{w:["80vw","80vw","40vw","35vw"],spacing:4,children:[Object(z.jsxs)(y.a,{mb:"2",fontSize:"2xl",children:["Result: ",Object(z.jsx)(y.a,{fontSize:"2xl",textTransform:"capitalize",children:this.state.disease.replaceAll(" ","").replaceAll("_"," ")})]}),this.state.img_url?Object(z.jsxs)("div",{children:[Object(z.jsx)(y.a,{mb:"2",fontSize:"2xl",children:"Your Image: "}),Object(z.jsx)(S.a,{children:Object(z.jsx)(T,{url:this.state.img_url,text:"selected image"})})]}):null]})}),Object(z.jsx)(S.a,{children:Object(z.jsxs)(m.b,{w:["80vw","80vw","30vw","25vw"],spacing:4,children:[Object(z.jsx)(y.a,{fontSize:"2xl",children:"Similar Images"}),Object(z.jsx)(I,{disease:this.state.disease}),Object(z.jsx)(w.a,{colorScheme:"blue",onClick:function(){return e.cleanUp()},children:"Assess Another"})]})})]})}):Object(z.jsxs)(x.a,{w:["90vw","80vw","80vw","40vw"],style:{scrollbarWidth:"none",marginBottom:"2rem"},rounded:"md",bg:"white",boxShadow:"lg",p:6,width:"100%",children:[Object(z.jsxs)(m.b,{spacing:2,children:[Object(z.jsxs)(g.a,{id:"email",children:[Object(z.jsx)(O.a,{children:"Select the image file (.jpg, .png)"}),Object(z.jsxs)(p.a,{my:"4",children:[Object(z.jsx)(v.a,{display:"none",p:"1.5",accept:"image/*",type:"file",onChange:this.handleFile,ref:function(t){return e.fileInput=t}}),Object(z.jsx)(w.a,{width:"100%",onClick:function(){return e.fileInput.click()},children:this.state.files?Object(z.jsx)("p",{children:"Select Another"}):Object(z.jsx)("p",{children:"Browse "})})]}),Object(z.jsx)(p.a,{my:"4"}),this.state.img_url?Object(z.jsx)(S.a,{children:Object(z.jsx)(T,{func:function(){return e.fileInput.click()},url:this.state.img_url,text:"selected image"})}):null]}),Object(z.jsx)(m.b,{spacing:4,children:Object(z.jsx)(w.a,{mt:"1rem",disabled:!this.state.files||this.state.apiLoading1,outline:"none",boxShadow:"none",border:"none",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",_focus:{boxShadow:"none",border:"none",outline:"none"},_active:{outline:"none",transform:"scale(0.94)",boxShadow:"none"},isLoading:this.state.apiLoading1,colorScheme:"blue",onClick:function(t){return e.handleCancerUpload(t)},children:"Run Assessment"})})]}),this.state.invalid?Object(z.jsxs)(k.a,{mt:"4",variant:"left-accent",status:"error",children:[Object(z.jsx)(k.b,{}),"The image is invalid"]}):null]})]})}):Object(z.jsx)(b.a,{id:"signin",align:"center",justify:"center",children:Object(z.jsxs)(m.b,{spacing:8,px:6,children:[Object(z.jsx)(m.b,{align:"center",children:Object(z.jsx)(f.a,{className:"font",fontSize:"4xl",children:"Welcome Back!"})}),Object(z.jsx)(x.a,{w:["90vw","80vw","50vw","40vw"],rounded:"lg",bg:"white",boxShadow:"lg",p:8,children:Object(z.jsxs)(m.b,{spacing:4,children:[Object(z.jsxs)(g.a,{id:"email",children:[Object(z.jsx)(O.a,{children:"Username"}),Object(z.jsx)(p.a,{my:"4",children:Object(z.jsx)(v.a,{colorScheme:"blue",type:"text",name:"username",value:this.state.username,onChange:this.usernameHandler,placeholder:"username"})})]}),Object(z.jsxs)(g.a,{id:"password",children:[Object(z.jsx)(O.a,{children:"Password"}),Object(z.jsxs)(p.a,{size:"md",my:"4",children:[Object(z.jsx)(v.a,{name:"password",value:this.state.password,onChange:this.passwordHandler,pr:"4.5rem",type:this.state.show?"text":"password",placeholder:"Enter password"}),Object(z.jsx)(_.a,{width:"4.5rem",children:Object(z.jsx)(w.a,{outline:"none",boxShadow:"none",border:"none",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",_focus:{boxShadow:"none",border:"none",outline:"none"},_active:{outline:"none",transform:"scale(0.94)",boxShadow:"none"},colorScheme:"blue",h:"1.75rem",size:"sm",onClick:function(t){return e.handleClick(t)},children:this.state.show?"Hide":"Show"})})]})]}),Object(z.jsx)(m.b,{spacing:10,children:Object(z.jsx)(w.a,{outline:"none",boxShadow:"none",border:"none",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",_focus:{boxShadow:"none",border:"none",outline:"none"},_active:{outline:"none",transform:"scale(0.94)",boxShadow:"none"},isLoading:this.state.loginLoad,colorScheme:"blue",onClick:function(t){return e.handleLogin(t)},children:"Sign in"})})]})})]})})})}}]),n}(i.a.Component),D=n(159),U=n(91),H=n(0),P=n(89),W=n(90),R=n(11),M=n(44),E=(n(81),n(161));var N=function(e){var t="28vh";return Object(z.jsx)(w.a,{h:t,m:"0.5rem",width:t,onClick:e.func,children:Object(z.jsx)(y.a,{mx:"2",noOfLines:"1",fontSize:"xl",textTransform:"uppercase",fontWeight:"600",isTruncated:!0,children:"Browse"})})};var J=function(){var e=Object(a.useState)(),t=Object(o.a)(e,2),n=t[0],i=t[1],s=Object(a.useState)(),c=Object(o.a)(s,2),l=c[0],r=c[1],d=Object(a.useState)(null),j=Object(o.a)(d,2),u=j[0],h=j[1],b=Object(a.useState)(null),f=Object(o.a)(b,2),O=f[0],k=f[1],_=Object(a.useState)(null),C=Object(o.a)(_,2),A=C[0],I=C[1],B=Object(a.useState)(null),F=Object(o.a)(B,2),D=F[0],U=F[1],H=Object(a.useState)(null),P=Object(o.a)(H,2),W=P[0],M=P[1],J=Object(a.useState)(null),X=Object(o.a)(J,2),Y=X[0],q=X[1],G=Object(a.useState)(null),K=Object(o.a)(G,2),Q=K[0],V=(K[1],Object(a.useState)(null)),Z=Object(o.a)(V,2),$=Z[0],ee=(Z[1],Object(a.useState)(!1)),te=Object(o.a)(ee,2),ne=te[0],ae=te[1],ie=Object(a.useState)(!0),se=Object(o.a)(ie,2),ce=(se[0],se[1]),oe=Object(a.useState)(null),le=Object(o.a)(oe,2),re=le[0],de=le[1];return localStorage.getItem("token")?Object(z.jsx)(x.a,{children:Object(z.jsx)(S.a,{spacing:2,children:Object(z.jsxs)(x.a,{boxShadow:"md",rounded:"md",background:"white",mt:"2rem",p:"1.8rem",maxH:["180vh","160vh","140vh","80vh"],w:["100vw","100vw","50vw","70vw"],children:[Object(z.jsxs)(g.a,{id:"email",children:[Object(z.jsx)(y.a,{fontSize:"2xl",children:"Select the image files (.jpg, .png)"}),Object(z.jsxs)(p.a,{my:"4",children:[Object(z.jsx)(v.a,{display:"none",p:"1.5",accept:"image/*",type:"file",onChange:function(e){e.target.files[0]&&(console.log(e.target.files[0]),i(e.target.files[0]),h(e.target.files[0].name),M(URL.createObjectURL(e.target.files[0])),ce(!1))},ref:function(e){return i(e)}}),Object(z.jsx)(v.a,{display:"none",p:"1.5",accept:"image/*",type:"file",onChange:function(e){e.target.files[0]&&(console.log(e.target.files[0]),r(e.target.files[0]),k(e.target.files[0].name),q(URL.createObjectURL(e.target.files[0])),ce(!1))},ref:function(e){return r(e)}})]}),Object(z.jsxs)(L.a,{minChildWidth:"400px",children:[Object(z.jsxs)(m.a,{children:[Object(z.jsxs)(L.a,{children:[u?Object(z.jsx)(y.a,{mx:"2",noOfLines:"1",isTruncated:!0,children:u}):"",W?Object(z.jsx)(T,{func:function(){return n.click()},url:W}):Object(z.jsx)(N,{func:function(){return n.click()}}),O?Object(z.jsx)(y.a,{mx:"2",noOfLines:"1",isTruncated:!0,children:O}):"",Y?Object(z.jsx)(T,{url:Y,func:function(){return l.click()}}):Object(z.jsx)(N,{func:function(){return l.click()}})]}),Object(z.jsxs)(L.a,{children:[ne?Object(z.jsx)(E.b,{mx:"2",mt:"4",noOfLines:1,isTruncated:!0}):Object(z.jsx)(y.a,{mx:"2",noOfLines:"1",isTruncated:!0,children:A}),Q?Object(z.jsx)(T,{url:Q,func:function(){return n.click()}}):Object(z.jsx)("div",{children:ne?Object(z.jsx)(E.a,{minH:"25vh",m:"0.5rem",width:"25vh"}):null}),ne?Object(z.jsx)(E.b,{mx:"2",mt:"4",noOfLines:1,isTruncated:!0}):Object(z.jsx)(y.a,{mx:"2",noOfLines:"1",isTruncated:!0,children:D}),$?Object(z.jsx)(T,{url:$,func:function(){return l.click()}}):Object(z.jsx)("div",{children:ne?Object(z.jsx)(E.a,{minH:"25vh",m:"0.5rem",width:"25vh"}):null})]})]}),re?Object(z.jsxs)(m.c,{children:[Object(z.jsx)(y.a,{}),Object(z.jsxs)(y.a,{children:["Image 0 ",re[0].Image_0]})]}):null]})]}),Object(z.jsx)(w.a,{mt:"1rem",disabled:!Y||!W||ne,outline:"none",boxShadow:"none",border:"none",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",_focus:{boxShadow:"none",border:"none",outline:"none"},_active:{outline:"none",transform:"scale(0.94)",boxShadow:"none"},isLoading:ne,colorScheme:"blue",onClick:function(e){ae(!0),de([{Image_0:"16.95",Image_1:"22.34"},{difference_0_and_1:"-5.39"},{masked_imgpath:"https://via.placeholder.com/400?text=masked_img",clustered_imgpath:["https://via.placeholder.com/400?text=clustered_img1","https://via.placeholder.com/400?text=clustered_img2"]}]),re&&(I("Image 0"+re[0].Image_0),U("Image 1"+re[0].Image_1))},children:"Run Assessment"})]})})}):Object(z.jsx)(R.a,{to:"/"})};function X(){return localStorage.removeItem("token"),window.location.reload(),Object(z.jsx)(R.a,{to:"/"})}function Y(){console.log("redirecting")}function q(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){localStorage.getItem("token")?i(!0):i(!1)}),[]),Object(z.jsx)("span",{id:"main",children:Object(z.jsx)(m.c,{minW:"100vw",children:Object(z.jsxs)(M.a,{children:[" ",Object(z.jsx)(D.a,{pt:"4",maxW:"container.lg",children:Object(z.jsxs)(f.a,{alignContent:"start",d:"flex",fontWeight:"600",size:"xl",className:"title-font",children:["SkinX",n?Object(z.jsxs)(x.a,{margin:"0 0 0 auto",children:[Object(z.jsx)(M.b,{to:"/",children:Object(z.jsx)(w.a,{margin:"0 1rem 0 auto",onClick:Y,boxShadow:"none",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",_focus:{boxShadow:"none"},_active:{transform:"scale(0.94)",boxShadow:"none"},colorScheme:"blue",variant:"outline",rightIcon:Object(z.jsx)(H.b.Provider,{value:{size:"24px"},children:Object(z.jsx)(P.a,{})}),children:"Skin"})}),Object(z.jsx)(M.b,{to:"/classify",children:Object(z.jsx)(w.a,{margin:"0 1rem 0 auto",onClick:Y,boxShadow:"none",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",_focus:{boxShadow:"none"},_active:{transform:"scale(0.94)",boxShadow:"none"},colorScheme:"blue",variant:"outline",rightIcon:Object(z.jsx)(H.b.Provider,{value:{size:"24px"},children:Object(z.jsx)(W.a,{})}),children:"Classfier"})}),Object(z.jsx)(w.a,{margin:"0 0 0 auto",onClick:X,boxShadow:"none",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",_focus:{boxShadow:"none"},_active:{transform:"scale(0.94)",boxShadow:"none"},colorScheme:"red",variant:"outline",rightIcon:Object(z.jsx)(H.b.Provider,{value:{size:"24px"},children:Object(z.jsx)(U.a,{})}),children:"Logout"})]}):null]})}),Object(z.jsxs)(x.a,{w:"100vw",mx:"4",children:[Object(z.jsx)(R.b,{exact:!0,name:"upload",path:"/",component:F}),Object(z.jsx)(R.b,{name:"classify",path:"/classify",component:J})]})]})})})}var G=function(){return Object(z.jsx)("div",{className:"App",children:Object(z.jsx)(q,{})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,169)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),s(e),c(e)}))},Q=n(163),V=n(26),Z=function(){return Object(z.jsx)(V.a,{styles:"\n      /* latin */\n      @font-face {\n        font-family: 'Avenir Medium';\n        font-style: normal;\n        font-weight: 700;\n        font-display: swap;\n        src: url('./components/styles/fonts/AvenirLTStd-Medium.otf') format('otf'), url('./components/styles/fonts/AvenirLTStd-Medium.otf') format('otf');\n        \n      }\n      /* latin */\n      @font-face {\n        font-family: 'Avenir Book';\n        font-style: normal;\n        font-weight: 400;\n        font-display: swap;\n        src: url('./components/styles/fonts/AvenirLTStd-Book.otf') format('otf'), url('./components/styles/fonts/AvenirLTStd-Book.otf') format('otf');\n        \n      }\n      "})},$=n(160),ee=Object($.a)({fonts:{heading:"Avenir Medium",body:"Avenir Book"},colors:{skin:{950:"#583101",900:"#603808",800:"#6F4518",700:"#8B5E34",600:"#A47148",500:"#BC8A5F",400:"#D4A276",300:"#E7BC91",200:"#F3D5B5",100:"#FFEDD8"}}});c.a.render(Object(z.jsxs)(Q.a,{theme:ee,children:[Object(z.jsx)(Z,{}),Object(z.jsx)(G,{})]}),document.getElementById("root")),K()},81:function(e,t,n){}},[[136,1,2]]]);
//# sourceMappingURL=main.4912d801.chunk.js.map