(this.webpackJsonpskinx=this.webpackJsonpskinx||[]).push([[0],{125:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),s=n(73),i=n.n(s),c=(n(93),n(94),n(6)),l=n(74),r=n(75),d=n(85),h=n(84),u=n(39),j=n.n(u),p=n(138),b=n(149),f=n(139),m=n(140),g=n(38),x=n(141),O=n(142),S=n(150),w=n(146),v=n(136),k=n(151),L=n(137),y=n(148),_=n(143),A=n(77),C=n(0),z=n(3);var B=function(e){return Object(z.jsx)(v.a,{children:Object(z.jsxs)(b.a,{children:[Object(z.jsx)(L.a,{textTransform:"uppercase",fontWeight:"bold",fontSize:"1.2em",children:e.name}),Object(z.jsx)(C.b.Provider,{value:{color:"green",size:"32px"},children:Object(z.jsx)("div",{children:Object(z.jsx)(A.a,{})})})]})})},F=n(78),D=n.n(F);var I=function(){return Object(z.jsx)("div",{children:Object(z.jsx)(D.a,{showPlayButton:!1,items:[{original:"https://picsum.photos/id/1018/1000/600/",thumbnail:"https://picsum.photos/id/1018/250/150/"},{original:"https://picsum.photos/id/1015/900/600/",thumbnail:"https://picsum.photos/id/1015/250/150/"},{original:"https://picsum.photos/id/1019/1000/1200/",thumbnail:"https://picsum.photos/id/1019/250/150/"}]})})},T=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={files:null,disease_type:null,username:null,password:null,disease:null,token:null,age:0,arr1:["cancer","melanoma"],arr2:["Assess Type of Cancer","Assess Malignancy"],show:!1,loginLoad:!1,apiLoading1:!1,apiLoading2:!1,name:"",invalid:!1,img_url:null},e.loginLoadHandler=function(t){e.setState({loginLoad:t.target.value})},e.apiLoadingHandler1=function(t){e.setState({apiLoading1:t.target.value})},e.apiLoadingHandler2=function(t){e.setState({apiLoading2:t.target.value})},e.usernameHandler=function(t){e.setState({username:t.target.value})},e.passwordHandler=function(t){e.setState({password:t.target.value})},e.handleFile=function(t){console.log(t.target.files[0]),e.setState({files:t.target.files[0],name:t.target.files[0].name,img_url:URL.createObjectURL(t.target.files[0]),invalid:!1})},e.handleLogin=function(){e.setState({loginLoad:!0});var t=new FormData;t.append("grant_type","password"),t.append("username",e.state.username),t.append("password",e.state.username),j.a.post("http://3.128.170.254:5000/token",t).then((function(t){e.setState({token:t.data.access_token,loginLoad:!1}),console.log(t.data.access_token),localStorage.setItem("token",JSON.stringify(t.data.access_token)),window.location.reload()})).catch((function(t){e.setState({loginLoad:!1}),console.log(t)}))},e.handleCancerUpload=function(){e.setState({apiLoading1:!0});var t=new FormData;t.append("file",e.state.files),j.a.post("http://3.128.170.254:5000/skinx?disease=cancer",t,{headers:{Authorization:"Bearer ".concat(e.state.token)}}).then((function(t){e.setState({disease:t.data.disease,apiLoading1:!1}),"Please upload a valid image"===t.data&&e.setState({invalid:!0,apiLoading1:!1}),console.log(t)})).catch((function(t){console.log(t),e.setState({apiLoading1:!1})}))},e.handleMelanomaUpload=function(){e.setState({apiLoading2:!0});var t=new FormData;t.append("file",e.state.files),j()({method:"post",url:"http://3.128.170.254:5000/skinx?disease=melanoma",data:t,headers:{Authorization:"Bearer ".concat(e.state.token)}}).then((function(t){e.setState({disease:t.data.disease,apiLoading2:!1}),"Please upload a valid image"===t.data&&e.setState({invalid:!0,apiLoading2:!1}),console.log(t)})).catch((function(t){console.log(t),e.setState({apiLoading2:!1})}))},e.handleUpload=function(){e.setState({apiLoading:!0});var t=new FormData;t.append("file",e.state.files),j()({method:"post",url:"http://3.128.170.254:5000/skinx?disease=".concat(e.state.disease_type),data:t,headers:{Authorization:"Bearer ".concat(e.state.token)}}).then((function(t){e.setState({disease:t.data.disease,apiLoading:!1}),"Please upload a valid image"===t.data&&e.setState({invalid:!0,apiLoading:!1}),console.log(t)})).catch((function(t){console.log(t),e.setState({apiLoading:!1})}))},e.handleDisease=function(t){e.setState({disease_type:t.target.value}),console.log(e.state.disease_type)},e.cleanUp=function(t){e.setState({disease:null})},e.handleClick=function(t){!0===e.state.show?e.setState({show:!1}):e.setState({show:!0})},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){localStorage.getItem("token")?this.setState({token:localStorage.getItem("token")}):this.setState({token:null})}},{key:"render",value:function(){var e=this;return Object(z.jsx)("div",{id:"upload",children:this.state.token?Object(z.jsx)(p.a,{align:"center",justify:"center",p:["0"],w:"100%",children:Object(z.jsxs)(b.b,{spacing:4,width:"30rem",children:[Object(z.jsx)(f.a,{align:"center",color:"white",className:"font text-shadow",fontSize:"3xl",children:"This is a Caption"}),Object(z.jsxs)(m.a,{overflow:"scroll",style:{scrollbarWidth:"none",marginBottom:"2rem"},rounded:"md",bg:"white",boxShadow:"lg",p:6,children:[this.state.disease?Object(z.jsxs)(b.b,{spacing:4,children:[" ",Object(z.jsx)(B,{name:this.state.disease}),Object(z.jsx)(L.a,{children:"Similar Images"}),Object(z.jsx)(I,{}),Object(z.jsx)(w.a,{colorScheme:"skin",onClick:function(){return e.cleanUp()},children:"Assess Another"})]}):Object(z.jsxs)(b.b,{spacing:2,children:[Object(z.jsxs)(g.a,{id:"email",children:[Object(z.jsx)(x.a,{children:"Select the image file (.jpg, .png)"}),Object(z.jsxs)(O.a,{my:"4",children:[Object(z.jsx)(S.a,{display:"none",p:"1.5",accept:"image/*",type:"file",onChange:this.handleFile,ref:function(t){return e.fileInput=t}}),Object(z.jsx)(w.a,{width:"100%",onClick:function(){return e.fileInput.click()},children:this.state.files?Object(z.jsx)("p",{children:"Select Another"}):Object(z.jsx)("p",{children:"Browse "})})]}),Object(z.jsx)(O.a,{my:"4"}),this.state.img_url?Object(z.jsx)(v.a,{children:Object(z.jsx)(k.a,{transition:"all 0.2s cubic-bezier(.39,.58,.57,1);",_active:{outline:"none",transform:"scale(0.94)",boxShadow:"none"},_hover:{boxShadow:"1px 0px 22px grey",transform:"scale(1.01)"},rounded:"md",width:"70%",mx:"0",src:this.state.img_url,alt:"selected image"})}):null]}),Object(z.jsx)(g.a,{children:Object(z.jsx)(x.a,{children:"Run Assessment For"})}),Object(z.jsxs)(b.b,{spacing:4,children:[Object(z.jsx)(w.a,{disabled:!this.state.files||!0===this.state.apiLoading2,outline:"none",boxShadow:"none",border:"none",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",_focus:{boxShadow:"none",border:"none",outline:"none"},_active:{outline:"none",transform:"scale(0.94)",boxShadow:"none"},isLoading:this.state.apiLoading1,colorScheme:"skin",onClick:function(t){return e.handleCancerUpload(t)},children:"Assess Type of Cancer"}),Object(z.jsx)(w.a,{disabled:!this.state.files||!0===this.state.apiLoading1,outline:"none",boxShadow:"none",border:"none",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",_focus:{boxShadow:"none",border:"none",outline:"none"},_active:{outline:"none",transform:"scale(0.94)",boxShadow:"none"},isLoading:this.state.apiLoading2,colorScheme:"skin",onClick:function(t){return e.handleMelanomaUpload(t)},children:"Assess Malignancy"})]})]}),this.state.invalid?Object(z.jsxs)(y.a,{mt:"4",variant:"left-accent",status:"error",children:[Object(z.jsx)(y.b,{}),"The image is invalid"]}):null]})]})}):Object(z.jsx)(p.a,{align:"center",justify:"center",children:Object(z.jsxs)(b.b,{spacing:8,maxW:"lg",px:6,children:[Object(z.jsx)(b.b,{align:"center",children:Object(z.jsx)(f.a,{color:"white",className:"font",fontSize:"4xl",children:"Welcome Back!"})}),Object(z.jsx)(m.a,{rounded:"lg",bg:"white",boxShadow:"lg",p:8,children:Object(z.jsxs)(b.b,{spacing:4,children:[Object(z.jsxs)(g.a,{id:"email",children:[Object(z.jsx)(x.a,{children:"Username"}),Object(z.jsx)(O.a,{my:"4",children:Object(z.jsx)(S.a,{type:"text",name:"username",value:this.state.username,onChange:this.usernameHandler,placeholder:"username"})})]}),Object(z.jsxs)(g.a,{id:"password",children:[Object(z.jsx)(x.a,{children:"Password"}),Object(z.jsxs)(O.a,{size:"md",my:"4",children:[Object(z.jsx)(S.a,{name:"password",value:this.state.password,onChange:this.passwordHandler,pr:"4.5rem",type:this.state.show?"text":"password",placeholder:"Enter password"}),Object(z.jsx)(_.a,{width:"4.5rem",children:Object(z.jsx)(w.a,{outline:"none",boxShadow:"none",border:"none",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",_focus:{boxShadow:"none",border:"none",outline:"none"},_active:{outline:"none",transform:"scale(0.94)",boxShadow:"none"},colorScheme:"skin",h:"1.75rem",size:"sm",onClick:function(t){return e.handleClick(t)},children:this.state.show?"Hide":"Show"})})]})]}),Object(z.jsx)(b.b,{spacing:10,children:Object(z.jsx)(w.a,{outline:"none",boxShadow:"none",border:"none",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",_focus:{boxShadow:"none",border:"none",outline:"none"},_active:{outline:"none",transform:"scale(0.94)",boxShadow:"none"},isLoading:this.state.loginLoad,colorScheme:"skin",onClick:function(t){return e.handleLogin(t)},children:"Sign in"})})]})})]})})})}}]),n}(o.a.Component),U=n(144),H=n(80);n(71);function M(){localStorage.removeItem("token"),window.location.reload()}function P(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){localStorage.getItem("token")?o(!0):o(!1)}),[]),Object(z.jsx)("span",{id:"main",children:Object(z.jsxs)(v.a,{children:[Object(z.jsx)(U.a,{minHeight:"100vh",p:"0",m:"0",width:"100%",children:Object(z.jsxs)(b.c,{style:{minWidth:"100%"},children:[Object(z.jsx)(U.a,{pt:"4",maxW:"container.xl",children:Object(z.jsxs)(f.a,{alignContent:"start",d:"flex",fontWeight:"600",color:"white",size:"xl",className:"title-font text-shadow",children:["SkinX",!1===n?null:Object(z.jsx)(w.a,{margin:"0 0 0 auto",onClick:M,boxShadow:"none",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",_focus:{boxShadow:"none"},_active:{transform:"scale(0.94)",boxShadow:"none"},_hover:{bg:"transparent"},color:"#fff",variant:"outline",rightIcon:Object(z.jsx)(C.b.Provider,{value:{size:"24px"},children:Object(z.jsx)(H.a,{})}),children:"Logout"})]})}),Object(z.jsx)(m.a,{mx:"4",w:"90%",children:Object(z.jsx)(v.a,{children:Object(z.jsx)(T,{})})})]})})," "]})})}var W=function(){return Object(z.jsx)("div",{className:"App",children:Object(z.jsx)(P,{})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,152)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),o(e),s(e),i(e)}))},N=n(147),J=n(21),R=function(){return Object(z.jsx)(J.a,{styles:"\n      /* latin */\n      @font-face {\n        font-family: 'Avenir Medium';\n        font-style: normal;\n        font-weight: 700;\n        font-display: swap;\n        src: url('./components/styles/fonts/AvenirLTStd-Medium.otf') format('otf'), url('./components/styles/fonts/AvenirLTStd-Medium.otf') format('otf');\n        \n      }\n      /* latin */\n      @font-face {\n        font-family: 'Avenir Book';\n        font-style: normal;\n        font-weight: 400;\n        font-display: swap;\n        src: url('./components/styles/fonts/AvenirLTStd-Book.otf') format('otf'), url('./components/styles/fonts/AvenirLTStd-Book.otf') format('otf');\n        \n      }\n      "})},X=n(145),q=Object(X.a)({fonts:{heading:"Avenir Medium",body:"Avenir Book"},colors:{skin:{950:"#583101",900:"#603808",800:"#6F4518",700:"#8B5E34",600:"#A47148",500:"#BC8A5F",400:"#D4A276",300:"#E7BC91",200:"#F3D5B5",100:"#FFEDD8"}}});i.a.render(Object(z.jsxs)(N.a,{theme:q,children:[Object(z.jsx)(R,{}),Object(z.jsx)(W,{})]}),document.getElementById("root")),E()},71:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){}},[[125,1,2]]]);
//# sourceMappingURL=main.4e7b7228.chunk.js.map